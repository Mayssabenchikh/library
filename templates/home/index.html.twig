{# templates/home/index.html.twig #}
{% extends 'base.html.twig' %}

{% block title %}Accueil - Bibliothèque Municipale
{% endblock %}

{% block stylesheets %}
	{{ parent() }}
	<style>:root
	{
		--primary-color: #3a3a3a;
		--secondary-color: #b77d56;
		--light-color: #f8f8f8;
		--dark-color: #2c2c2c;
         --beige-color: #f5f2e9; 
	}

	body {
		font-family: 'Playfair Display', serif;
		color: var(--primary-color);
		line-height: 1.6;
	}

	.navbar {
		padding: 1.5rem 2rem;
		border-bottom: 1px solid rgba(0, 0, 0, 0.1);
background-color: var(--beige-color) !important; 
	}

	.navbar-brand {
		font-size: 1.8rem;
		font-weight: 700;
		letter-spacing: 1px;
        
	}

	.nav-link {
		margin: 0 15px;
		font-size: 0.9rem;
		text-transform: uppercase;
		letter-spacing: 1px;
	}

	.hero {
		height: 80vh;
  background-color: var(--beige-color) !important;
		display: flex;
	}

	.hero-content {
		padding: 3rem;
		display: flex;
		flex-direction: column;
		justify-content: center;
		width: 50%;
	}

	.hero-image {
		width: 50%;
		background-image: url('/images/bib1.jpg');
		background-size: cover;
		background-position: center;
	}

	.hero-title {
		font-size: 3rem;
		line-height: 1.2;
		margin-bottom: 1.5rem;
		font-weight: 400;
	}

	.hero-subtitle {
		font-size: 1.1rem;
		margin-bottom: 2rem;
		font-weight: 400;
		max-width: 80%;
	}

	.btn-reserve {
		display: inline-block;
		padding: 10px 20px ;
		background-color: transparent;
		border: 1px solid var(--primary-color);
		color: var(--primary-color);
		text-transform: uppercase;
		letter-spacing: 2px;
		font-size: 0.8rem;
		transition: all 0.3s ease;
		text-decoration: none;
		margin-top: 1rem;
       
	}

	.btn-reserve:hover {
		background-color: var(--primary-color);
		color: white;
	}

	.featured-books {
		padding: 5rem 2rem;
		background-color: var(--secondary-color);
		color: white;
	}

	.featured-title {
		text-align: center;
		margin-bottom: 3rem;
		font-size: 2rem;
	}

	.book-card {
		background-color: white;
		padding: 1.5rem;
		color: var(--primary-color);
		text-align: center;
		height: 100%;
	}

	.book-card img {
		max-width: 70%;
		margin-bottom: 1rem;
	}

	footer {
		background-color: var(--dark-color);
		color: white;
		padding: 3rem 2rem;
		text-align: center;
	}

	.search-form {
		margin-top: 2rem;
		display: flex;
		max-width: 80%;
	}

	.search-form input {
		flex-grow: 1;
		padding: 10px 15px;
		border: 1px solid #ddd;
		border-right: none;
	}

	.search-form button {
		padding: 10px 20px;
		background-color: var(--primary-color);
		color: white;
		border: 1px solid var(--primary-color);
	}
</style>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&display=swap" rel="stylesheet">{% endblock %}{% block body %}
<nav class="navbar navbar-expand-lg navbar-light bg-light">
	<div class="container">
		<a class="navbar-brand" href="{{ path('app_home') }}">BIBLIOTHÈQUE</a>
		<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
			<span class="navbar-toggler-icon"></span>
		</button>
		<div class="collapse navbar-collapse justify-content-center" id="navbarNav">
			<ul class="navbar-nav">
				<li class="nav-item">
					<a class="nav-link" href="{{ path('app_home') }}">Accueil</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="{{ path('app_livre_index') }}">Livres</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="{{ path('app_auteur_index') }}">Auteurs</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="{{ path('app_genre_index') }}">Genres</a>
				</li>
			</ul>
		</div>
		<div>
    {% if app.user %}
        <div class="d-flex align-items-center">
                    <i class="fa-solid fa-user me-2" style="color: var(--primary-color);"></i> <!-- Icône utilisateur -->

            <span class="me-2">{{ app.user.nom }}</span>
            <a class="btn btn-sm btn-outline-secondary" href="{{ path('app_logout') }}">Se déconnecter</a>
        </div>
    {% else %}
        <div class="d-flex">
            <a class="nav-link" href="{{ path('app_login') }}">Se connecter</a>
            <a class="nav-link" href="{{ path('app_register') }}">S'inscrire</a>
        </div>
    {% endif %}
</div>
	</div>
</nav>

<section class="hero">
	<div class="hero-content">
		<h1 class="hero-title">Bienvenue à la Bibliothèque, l'univers des livres à portée de main.</h1>
		<p class="hero-subtitle">Explorez notre collection diversifiée de plus de 10 000 ouvrages disponibles à l'emprunt.</p>

		<form class="search-form" action="{{ path('app_livre_search') }}" method="GET">
			<input type="text" name="query" placeholder="Rechercher un livre, un auteur..." required>
			<button type="submit">Rechercher</button>
		</form>

		<a href="{{ path('app_livre_index') }}" class="btn-reserve">DÉCOUVRIR</a>
	</div>
	<div class="hero-image"></div>
</section>

<section class="featured-books">
	<div class="container">
		<h2 class="featured-title">Nouveautés</h2>
		<div class="row">
			{% for livre in featured_books %}
    <div class="col-md-3 mb-4">
        <div class="book-card">
            <img src="{{ livre.image }}" alt="{{ livre.titre }}">
            <h3>{{ livre.titre }}</h3>
            <p>Par {{ livre.auteur.nom }}</p>
            <a href="{{ path('app_livre_show', {'id': livre.id}) }}" class="btn-reserve">Voir plus</a>
        </div>
    </div>
{% endfor %}

		</div>
	</div>
</section>

<footer>
	<div class="container">
		<div class="row">
			<div class="col-md-4">
				<h3>Horaires d'ouverture</h3>
				<p>Lundi - Vendredi: 9h - 19h</p>
				<p>Samedi: 10h - 17h</p>
				<p>Dimanche: Fermé</p>
			</div>
			<div class="col-md-4">
				<h3>Contact</h3>
				<p>123 Rue de la Bibliothèque</p>
				<p>contact@bibliotheque.fr</p>
				<p>01 23 45 67 89</p>
			</div>
			<div class="col-md-4">
				<h3>Liens utiles</h3>
				<p>
					<a href="#">FAQ</a>
				</p>
				<p>
					<a href="#">Conditions d'emprunt</a>
				</p>
				<p>
					<a href="#">Événements</a>
				</p>
			</div>
		</div>
		<div class="row mt-4">
			<div class="col-12 text-center">
				<p>&copy;
					{{ "now"|date("Y") }}
					Bibliothèque Municipale. Tous droits réservés.</p>
			</div>
		</div>
	</div>
</footer>{% endblock %}
